{
  "provides": {
    "dist": "debian",
    "versions": [
      "8.[0-11]",
      "9.[0-13]",
      "10.[0-13]",
      "11.[0-11]",
      "12.[0-9]"
    ],
    "arches": [
      "i386",
      "x86_64",
      "aarch64"
    ]
  },
  "include": "linux",
  "platforms": [
    "virtualbox",
    "vmware",
    "vsphere",
    "proxmox"
  ],
  "defs": {
    "boot_disk_size": 32768,
    "deb_arch": "E>'amd64' if '>>arch<<' == 'x86_64' else ('arm64' if '>>arch<<' == 'aarch64' else '>>arch<<')<E",
    "cd_files": ">>temp_dir<</debian.seed,>>temp_dir<</debian.fix",
    "cd_label": "media",
    "iso_url": "https://cdimage.debian.org/cdimage/archive/>>version<<.0/>>deb_arch<</iso-dvd/debian->>version<<.0->>deb_arch<<-DVD-1.iso"
  },
  "config": {
    "boot_wait": "10s",
    "shutdown_command": "/sbin/shutdown -P now",
    "boot_command": [
      "<esc><wait>auto",
      " net.ifnames=0 biosdevname=0",
      " keyboard-configuration/xkb-keymap=us",
      "E>' netcfg/disable_autoconfig=true netcfg/use_autoconfig=false' if '>>ip<<' != '' and '>>ip<<' != 'dhcp' else ''<E",
      " auto-install/enable=true",
      " debconf/priority=critical",
      " preseed/file=/media/debian.seed<enter>",
      "<wait10><wait10>",
      "<leftAltOn><f2><leftAltOff>",
      "<enter><wait>",
      "mount $(blkid | grep >>cd_label<< | cut -d: -f1) /media<enter>",
      "<wait>",
      "<leftAltOn><f1><leftAltOff>",
      "<enter><wait><enter>",
      "<down><down><down><down><enter>"
    ]
  },
  "files": [
    {
      "sources": [
        "debian/debian.seed"
      ],
      "dest": "debian.seed"
    },
    {
      "sources": [
        "debian/debian.fix"
      ],
      "dest": "debian.fix"
    }
  ],
  "version_specific": [
    {
      "version": "8.*",
      "arches": ["i386", "x86_64"],
      "method": "replace",
      "files": [
        {
          "sources": [
            "debian/debian-8-preseed.cfg"
          ],
          "dest": "debian.seed"
        },
        {
          "sources": [
            "debian/debian.fix"
          ],
          "dest": "debian.fix"
        }
      ],
      "config": {
        "boot_command": [
          "<esc><wait>auto",
          " net.ifnames=0 biosdevname=0",
          " keyboard-configuration/xkb-keymap=us",
          " auto-install/enable=true",
          " debconf/priority=critical",
          " preseed/file=/media/debian.seed<enter>",
          "<wait10><wait10>",
          "<leftAltOn><f2><leftAltOff>",
          "<enter><wait>",
          "mount $(blkid | grep >>cd_label<< | cut -d: -f1) /media<enter>",
          "<wait>",
          "chmod +x /media/debian.fix && /media/debian.fix<enter>",
          "<wait>",
          "<leftAltOn><f1><leftAltOff>",
          "<enter><wait><enter>",
          "<down><down><down><down><enter>"
        ]
      },
      "platform_specific": [
        {
          "platform": "virtualbox",
          "config": {
            "guest_os_type": "Debian_64"
          }
        },
        {
          "platform": "vmware",
          "config": {
            "guest_os_type": "debian8-64"
          }
        },
        {
          "platform": "vsphere",
          "config": {
            "guest_os_type": "debian8_64Guest"
          }
        }
      ]
    },
    {
      "version": "9.*",
      "arches": ["i386", "x86_64"],
      "method": "replace",
      "files": [
        {
          "sources": [
            "debian/debian_pre10.seed"
          ],
          "dest": "debian.seed"
        },
        {
          "sources": [
            "debian/debian.fix"
          ],
          "dest": "debian.fix"
        }
      ],
      "platform_specific": [
        {
          "platform": "virtualbox",
          "config": {
            "guest_os_type": "Debian_64"
          }
        },
        {
          "platform": "vmware",
          "config": {
            "guest_os_type": "debian9-64"
          }
        },
        {
          "platform": "vsphere",
          "config": {
            "guest_os_type": "debian9_64Guest"
          }
        }
      ]
    },
    {
      "version": "10.*",
      "arches": ["x86_64", "aarch64"],
      "platform_specific": [
        {
          "platform": "virtualbox",
          "config": {
            "guest_os_type": "Debian_64"
          }
        },
        {
          "platform": "vmware",
          "config": {
            "guest_os_type": "debian10-64"
          }
        },
        {
          "platform": "vsphere",
          "config": {
            "guest_os_type": "debian10_64Guest"
          }
        }
      ]
    },
    {
      "version": "11.*",
      "arches": ["x86_64", "aarch64"],
      "platform_specific": [
        {
          "platform": "virtualbox",
          "config": {
            "guest_os_type": "Debian11_64"
          }
        },
        {
          "platform": "vmware",
          "config": {
            "guest_os_type": "debian11-64"
          }
        },
        {
          "platform": "vsphere",
          "config": {
            "guest_os_type": "debian11_64Guest"
          }
        }
      ]
    },
    {
      "version": "12.*",
      "arches": ["x86_64", "aarch64"],
      "platform_specific": [
        {
          "platform": "virtualbox",
          "config": {
            "guest_os_type": "Debian12_64"
          }
        },
        {
          "platform": "vmware",
          "config": {
            "guest_os_type": "debian12-64"
          }
        },
        {
          "platform": "vsphere",
          "config": {
            "guest_os_type": "debian12_64Guest"
          }
        }
      ]
    }
  ]
}
